<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>Staff Master</h2>

    </div>
    <div class="col-lg-2">

    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">

    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">

                        <div class="ibox-title">
                        </div>

                        <div id="nprogress" *ngIf="loader">
                            <div class="spinner" role="spinner">
                                <div class="spinner-icon"></div>
                            </div>
                        </div>
                        
                        <div class="ibox-content ">

                            <form class="needs-validation" (ngSubmit)="formSubmit()" [formGroup]="staffForm">


                                <div class="card form-row">
                                    <div class="card-body">
                                        <h2>Staff Profile Information</h2>
                                        
                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Application Number <span class="text-danger">*</span></label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="application_number"                                                    
                                                    class="form-control" />        
                                                </div>
                                            </div>

                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Application Date <span class="text-danger">*</span></label>
                                                    <input type="date" 
                                                    autocomplete="off" 
                                                    formControlName="application_date"                                                    
                                                    class="form-control" />        
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Staff First Name <span class="text-danger">*</span></label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="staff_first_name"                                                    
                                                    class="form-control" />        
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Staff Middle Name</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="staff_middle_name"                                                    
                                                    class="form-control" />        
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Staff Last Name <span class="text-danger">*</span></label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="staff_last_name"                                                    
                                                    class="form-control" />        
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Communication Address <span class="text-danger">*</span></label>
                                                    <textarea formControlName="communication_address" 
                                                    class="form-control"
                                                    >
                                                    </textarea>  
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Permanent Address</label>
                                                    <textarea formControlName="permanent_address" 
                                                    class="form-control"
                                                    >
                                                    </textarea>  
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Category Type <span class="text-danger">*</span></label>
                                                    <ng-select 
                                                    [addTag]="true"
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="categoryType" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Category Type"
                                                    formControlName="category_type"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Designation Type <span class="text-danger">*</span></label>
                                                    <ng-select 
                                                    [addTag]="true"
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="designationType" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Designation Type"
                                                    formControlName="designation_type"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Gender <span class="text-danger">*</span></label>
                                                    <div style="height: 34px;">
                                                        <input  formControlName="gender"  type="radio" value="male"
                                                            class="form-controlX required" style="float:left;" >
                                                        <span style="float:left;">&nbsp;Male &nbsp;&nbsp;</span>
                                                        <input  formControlName="gender"  type="radio" value="female"
                                                            checked class="form-controlX required" style="float:left;"
                                                            >
                                                        <span style="float:left;">&nbsp;Female &nbsp;&nbsp;</span>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Marital Status <span class="text-danger">*</span></label>
                                                    <div style="height: 34px;">
                                                        <input  formControlName="marital_status"  type="radio" value="married"
                                                            class="form-controlX required" style="float:left;" >
                                                        <span style="float:left;">&nbsp;Married &nbsp;&nbsp;</span>
                                                        <input  formControlName="marital_status"  type="radio" value="single"
                                                            checked class="form-controlX required" style="float:left;"
                                                            >
                                                        <span style="float:left;">&nbsp;Single &nbsp;&nbsp;</span>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Mobile Number <span class="text-danger">*</span></label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="mobile_number"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Father Name <span class="text-danger">*</span></label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="father_name"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Email <span class="text-danger">*</span></label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="email"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Phone</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="phone"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Date Of Birth <span class="text-danger">*</span></label>
                                                    <input type="date" 
                                                    autocomplete="off" 
                                                    formControlName="dateofbirth"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Nativity</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="nativity"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Staff Type <span class="text-danger">*</span></label>
                                                    <ng-select 
                                                    [addTag]="true"
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="staffType" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Staff Type"
                                                    formControlName="staff_type"                                                      
                                                    >
                                                    </ng-select>     
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Familiar Area <span class="text-danger">*</span></label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="familiar_area"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Staff Code</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="staff_code"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Passport No</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="passport_number"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Department <span class="text-danger">*</span></label>
                                                    <ng-select 
                                                    [addTag]="true"
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="departmentItem" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Department"
                                                    formControlName="department"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Blood Group</label>
                                                    <ng-select 
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="bloodGroup" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Blood Group"
                                                    formControlName="blood_group"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Height</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="height"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Weight</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="weight"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Nationality</label>
                                                    <ng-select 
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="nationalityItem" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Nationality"
                                                    formControlName="nationality"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Religion</label>
                                                    <ng-select 
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="religionItem" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Religion"
                                                    formControlName="religion"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Caste</label>
                                                    <ng-select 
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="casteItem" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Caste"
                                                    formControlName="caste"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Power of Sight</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="powerofsight"                                                    
                                                    class="form-control" />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Community</label>
                                                    <ng-select 
                                                    [clearable]="false"
                                                    [loading]=""
                                                    [items]="communityItem" 
                                                    bindLabel="name"
                                                    bindValue="id"
                                                    placeholder="Select Community"
                                                    formControlName="community"                                                      
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Driving No</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="driving_number"                                                    
                                                    class="form-control" />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Speak</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="speak"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Read</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="read"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Remarks</label>
                                                    <textarea formControlName="remarks" 
                                                    class="form-control"
                                                    >
                                                    </textarea>        
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Write</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="write"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row ">
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Staff Image</label>
                                                    <input formControlName="staff_image" type="file" (change)="onFileSelect($event)"
                                                    class="form-control " accept="image/*" capture="camera" >       
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <div class="form-group">
                                                    <label>Account No</label>
                                                    <input type="text" 
                                                    autocomplete="off" 
                                                    formControlName="account_number"                                                    
                                                    class="form-control" />       
                                                </div>
                                            </div>
                                        </div>


                                        <div class="card">
                                            <div class="card-body">
                                                <h2>Staff Qualification Information</h2>



                                                <div class="card-body" formArrayName="qualification_info">
                                                        <div class="row col-12 m-0 p-0">                
                                                            <div style="width: 100%;" *ngFor="let quali of duplicate_qualification.controls; let i = index;">
                                                                <div [formGroupName]="i" class="row">       
                                                                    <div class="col-lg-4">
                                                                        <div class="form-group">
                                                                            <label>Degree <span class="text-danger">*</span></label>
                                                                            <ng-select
                                                                                [addTag]="true"
                                                                                [items]="degreeItem" 
                                                                                bindLabel="name"
                                                                                bindValue="id" 
                                                                                placeholder="Select Degree"
                                                                                formControlName="degree"
                                                                                >
                                                                            </ng-select> 
                                                                        
                                                                        </div>
                                                                    </div>  
                                                                    <div class="col-lg-4">
                                                                        <div class="form-group">
                                                                            <label>Department <span class="text-danger">*</span></label>
                                                                            <ng-select
                                                                                [addTag]="true"
                                                                                [items]="deptqualificationItem" 
                                                                                bindLabel="name"
                                                                                bindValue="id" 
                                                                                placeholder="Select Department"
                                                                                formControlName="departmentqualification"
                                                                                >
                                                                            </ng-select> 
                                                                        
                                                                        </div>
                                                                    </div> 
                                                                    <div class="col-lg-4">
                                                                        <div class="form-group">
                                                                            <label>Grade <span class="text-danger">*</span></label>
                                                                            <ng-select
                                                                                [addTag]="true"
                                                                                [items]="gradeItem" 
                                                                                bindLabel="name"
                                                                                bindValue="id" 
                                                                                placeholder="Select Grade"
                                                                                formControlName="grade"
                                                                                >
                                                                            </ng-select> 
                                                                        
                                                                        </div>
                                                                    </div> 

                                                                    <div class="col-lg-4">
                                                                        <div class="form-group">
                                                                            <label>Percentage <span class="text-danger">*</span></label>
                                                                            <input formControlName="percentage"autocomplete="off" type="text"
                                                                                class="form-control" >
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                        <div class="form-group">
                                                                            <label>Institution Name <span class="text-danger">*</span></label>
                                                                            <input formControlName="institution_name"  autocomplete="off" type="text" class="form-control "
                                                                                >
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                        <div class="form-group">
                                                                            <label>Year of Passing <span class="text-danger">*</span></label>
                                                                            <input formControlName="yesrofpassing"  autocomplete="off" type="text" class="form-control "
                                                                                >
                                                                        </div>
                                                                    </div>
                                                                    
                    
                                                                    <div class="form-group col-12 text-right">
                                                                        <button  class="btn btn-info" type="button" (click)="addqualification()" ><i class="fa fa-plus"></i> Add </button>
                                                                        <button *ngIf="i!=0" class="btn btn-danger" type="button" (click)="removequalification(i)"> <i class="fa fa-trash mr-1"></i> Remove </button>
                                                                    </div>
                    
                                                                </div>
                                                                <hr>
                    
                                                            </div>
                                                        </div>
                                                    </div>

                                            </div>
                                        </div>


                                        <div class="card">
                                            <div class="card-body">
                                                <h2>Staff Experience Information</h2>


                                                            <div class="card-body" formArrayName="experience_info">
                                                                <div class="row col-12 m-0 p-0">                
                                                                    <div style="width: 100%;" *ngFor="let exp of duplicate_experience.controls; let j = index;">
                                                                        <div [formGroupName]="j" class="row"> 

                                                                            <div class="col-lg-4">
                                                                                <div class="form-group">
                                                                                    <label>Company Name <span class="text-danger">*</span></label>
                                                                                    <input formControlName="company_name"autocomplete="off" type="text"
                                                                                        class="form-control" >
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-lg-4">
                                                                                <div class="form-group">
                                                                                    <label>Start Date <span class="text-danger">*</span></label>
                                                                                    <input formControlName="start_date"  autocomplete="off" type="date" class="form-control "
                                                                                        >
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-lg-4">
                                                                                <div class="form-group">
                                                                                    <label>End Date <span class="text-danger">*</span></label>
                                                                                    <input formControlName="end_date"  autocomplete="off" type="date" class="form-control "
                                                                                        >
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-lg-4">
                                                                                <div class="form-group">
                                                                                    <label>Experience Year <span class="text-danger">*</span></label>
                                                                                    <input formControlName="experience_year"  autocomplete="off" type="text" class="form-control "
                                                                                        >
                                                                                </div>
                                                                            </div>

                                                                            <div class="col-lg-4">
                                                                                <div class="form-group">
                                                                                    <label>Experience Month <span class="text-danger">*</span></label>
                                                                                    <input formControlName="experience_month"  autocomplete="off" type="text" class="form-control "
                                                                                        >
                                                                                </div>
                                                                            </div>
                                                                            
                            
                                                                            <div class="form-group col-12 text-right">
                                                                                <button  class="btn btn-info" type="button" (click)="addexperience()" ><i class="fa fa-plus"></i> Add </button>
                                                                                <button *ngIf="j!=0" class="btn btn-danger" type="button" (click)="removeexperience(j)"> <i class="fa fa-trash mr-1"></i> Remove </button>
                                                                            </div>
                            
                                                                        </div>
                                                                        <hr>
                            
                                                                    </div>
                                                                </div>
                                                            </div>

                                            </div>
                                        </div>

                                        

                                    </div>
                                </div>

                                <div class="col-12 text-center mb-4">

                                    <input [disabled]="!staffForm.valid " [ngClass]="{ 'disable-btn': !staffForm.valid }" type="submit" class="btn btn-primary" value="Save">
                                    <button type="button" (click)="cancelForm()" class="btn btn-info" >Cancel</button>
                                </div>

                            </form>

                            

                        </div>

             </div>
        </div>
    </div>


</div>